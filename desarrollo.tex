\chapter{Desarrollo del Proyecto} % (fold)
\label{cha:desarrollo}

Ya que para el desarrollo del proyecto se usará programación extrema,
se va a definir el proceso de desarrollo general que se usará en este proyecto
de grado.\\

  % \section{Proceso de Desarrollo}
  % \label{sec:proceso_de_desarrollo}

  XP propone un proceso iterativo e incremental, El proyecto es dividido en pequeños “mini-proyectos”, los cuales terminan con un release\footnote{\emph{Release} es una versión del producto que se libera al final de un ciclo de desarrollo de software, un release contiene requerimientos implementados, tal vez no acabados en un  100\% pero funcional de tal forma el cliente es capaz de ofrecer feedback del producto.} o lanzamiento.\\

En un proyecto que sigue la metodología XP los releases son frecuentes, esto para recibir feedback más seguido. Los releases son negociados en un Planning Game, donde los clientes definen qué se va a implementar en el release y los desarrolladores especifican el tiempo que necesitan para desarrollar las características deseadas.\\

\begin{figure}[H]
  \caption{Diagrama del proceso XP}
  \label{fig:xp_diagram}
  \begin{center}
    \includegraphics[width=1\textwidth]{xp_diagram}
  \end{center}
  \caption*{Fuente: Elaboración propia}
\end{figure}

En la figura \ref{fig:xp_diagram} se puede apreciar el proceso de desarrollo de la metodología XP, la cual se explicará a continuación.\\

  \section{Planning Game}
  \label{sec:planning_game}

  La fase del planning game consiste de 3 etapas: exploración, planeaci\'on y direcci\'on.\\

  Durante la fase de la \textbf{exploración} los clientes definen lo que desean que tenga el sistema y los desarrolladores estiman el tiempo necesario que necesitan para realizar esas tareas.\\

  Durante la \textbf{planeación} se negocia y se decide cuales de todas las características que los clientes quieren pueden llegar a realizarse en el tiempo dise~ado para una iteración.\\

  Después de la planeación sigue la fase de \textbf{dirección}, durante la cual se desarrolla y actualiza (cuando sea necesario) la planeación ya negociada según lo que se vaya aprendiendo a medida que avanza el desarrollo del proyecto.\\

    \subsection{Exploración}
    \label{sub:exploracion}
      Durante esta etapa el cliente escribe las tarjetas de historias de usuario, estas historias definen lo que el cliente quiere que el sistema haga, en otras palabras representan las características que el sistema debería tener implementado.\\

      Una vez que estas tarjetas están escritas, el equipo de desarrollo debe asignarles una estimación en términos del tiempo necesitado para el desarrollo y el riesgo para el producto que pueden llegar a tener las características detalladas en las historias del usuario.\\

      Las historias del usuario se las crea para propósitos de planeación y estimación de tiempo y esfuerzo que cada característica va a necesitar, los detalles se crean y dividen posteriormente cuando las historias están por ser implementadas en las “tareas de ingeniería”.\\
    % end exploracion

    \subsection{Planeación}
    \label{sub:planeacion}

      Cuando se tienen las historias del usuario junto con las estimaciones de los desarrolladores, se está listo para una “negociación de aceptación” donde un “calendario de entregas”  es negociado y donde se aceptan qué historias se van a desarrollar primero en cuanto tiempo se van a entregar resultados.\\

    % end planeacion

    \subsection{Dirección o Steering}
    \label{sub:steering}

    Esta fase es básicamente comprende el resto del desarrollo del producto hasta que es liberado al mercado o el proyecto es cancelado.\\

    Esta fase consiste en 4 ``movimientos'':

    \begin{description}
      \item[Iteración:] Es durante la iteración cuando se desarrolla el producto, el tiempo que se utiliza para esta fase es de generalmente de una o 2 semanas, dependiendo de la naturaleza del proyecto.

      \item[Recuperación:] Si durante el desarrollo no se completan las características a desarrollar en el tiempo establecido, es durante la recuperación que se re-negocia con el cliente si quiere cambiar la fecha de entrega del release o modificar el alcance del desarrollo (menos historias de usuario).

      \item[Nuevas Historias:] El cliente tiene el derecho de aumentar historias de usuario, las cuales se tienen que estimar y negociar si serán parte del actual desarrollo, en tal caso se tiene que renegociar las fechas de entrega.

      \item[Re-estimación:] Si durante el desarrollo el equipo considera que el plan ya no es correcto, todas las historias que faltan hacer se tienen que re-estimar y el plan se tiene que re-negociar con el cliente.
    \end{description}

  % end planning_game

    \section{Iteration Planning Game}
    \label{sec:iteracion}

      % \subsubsection{Iteración}
      % \label{subs:iteracion}

      La fase de Iteración en XP se lo denomina como Iteration Planning Game, esta al igual que  el release planning game consiste en las fases de: Exploración, Planning e Implementaci\'on. Steering.\\

      Hay que tomar en cuenta que la planeación de una iteración en particular es desarrollada al inicio de cada interacción, no se planifican iteraciones por adelantado.\\

      Generalmente cada 3 iteraciones se actualiza el Calendario de Entregas “committed schedule” para reflejar los logros alcanzados por el equipo de desarrollo y el estado del proyecto, también sirve para identificar posibles riesgos.\\

      \subsection{Exploración}
      \label{sub:exploracion}

      Durante esta fase el cliente escoge las historias de usuario que serán implementadas en la presente iteración, generalmente se escogen las que aportan más valor al producto o tienen más relevancia en la lógica de negocio del cliente, asi como tambien cualquier historia que no se acabó en una iteración anterior.\\

      Los desarrolladores dividen las historias en Tareas de Ingeniería, las cuales son más pequeñas que las historias, si se encuentra que una Tarea es casi tan grande como una historia es porque es una historia y debería ser dividida en Tareas. Una tarea puede estar relacionada a 2 o mas historias o no estar relacionada con ninguna historia. Dentro de la metodología XP es una buena práctica el escribir las tareas en las  “Index Cards”, similares a las historias, esto debido a que estas tarjetas son fáciles de manipular durante la fase de planeación.\\

      % end exploracion

      \subsection{Planeación}
      \label{sub:planeacion}

      Durante esta fase un desarrollador acepta la responsabilidad de implementar una Tarea de acuerdo de su experiencia personal en el área y tecnologías que se usarán en el desarrollo. El desarrollador debe estimar el tiempo necesitado para completar la tarea en un \emph{Ideal Engineering Time} Tiempo de Ingenieria Ideal, siempre hay que considerar que la tarea se deriva de la Historia de usuario que es escogido para la iteración actual, una regla de XP consiste en que no se debe realizar trabajo el cual no se va necesitar ahora, \textbf{YAGNI}\footnote{You aren't gonna need it. En espa\~nol, Tu no lo vas a necesitar \'o No vas a necesitarlo.}.\\

      La Tarea combinada con el nombre del desarrollador responsable, la estimación asignada son parte del \emph{Iteration Schedule} \'o \emph{Plan de la Iteración}, con el cual el equipo de desarrollo es capaz de determinar si la iteración está \emph{floja} o \emph{cargada}, si está \emph{floja} se pueden añadir otras historias a la iteración o si está \emph{cargada} es necesario dividir historias.\\
      Finalmente cuando la carga de trabajo de la iteración está balanceada se procede con la siguiente fase, la \emph{Implementación} de las tareas.


      % end planeacion

      \subsection{Implementación}
      \label{sub:implementacion}

      % dentro de la Implementación una Tarea de desarrollar.
      Dentro de lo que es el ciclo de desarrollo de software, \textbf{XP} define el siguiente procedimiento:

      \begin{itemize}
        \item Analizar lo que hay que hacer, esto envuelve lo que es analizar las Tarjetas de Ingeniería y/o las historias de usuario. %, de ser necesario se realiza una sesión CRC.
        \item Escribir Pruebas Unitarias, son bastante útiles para determinar cuando la tarea está completada.
        \item Implementar el código suficiente para lograr que las pruebas unitarias pasen exitosamente.
        \item Simplificar el código si es necesario (Refactor Mercilessly).
        \item Integrar los cambios continuamente (Continuous Integration).
      \end{itemize}
      % end implementacion

      \subsection{Registrar el Avance}
      \label{sub:registrar_avance}
      XP define un rol en específico que se encarga de medir el progreso, el Tracker.

      \subsection{Verificación}
      \label{sub:verificacion}
      Cada historia lleva asociado test funcionales, que están diseñados para verificar que los criterios de aceptación de cada historia están implementados. \\
      Si durante esta fase las pruebas fallan, la historia de usuario relacionada se marca para volver a trabajar en ella en la siguiente iteración.\\


      % end iteracion

    % end steering



  % end proceso_de_desarrollo

  \section{Implementación del proyecto}
  \label{sec:implementacion}

  Siguiendo la metodología XP, el presente proyecto de grado debe empezar por la primera etapa del Planning Game.\\



  Exploración - Entrega y estimación de las historias de usuario

    \subsection{Historias de Usuario}
    \label{sub:historias_de_usuario}

      \input{user_stories}

    % end historias_de_usuario

    \subsection{Planeacion de Entregas}
    \label{sub:Planeacion de Entregas}

        A continuación el calendario de entregas del proyecto, el cual de acuerdo de las historias de usuario recogidas se estimó para unas 4 Iteraciones, y cada Iteración de 2 semanas.\\

        \input{calendario_entregas}

        El orden de implementación y la estimación del equipo de desarrollo para completar las Historias de Usuario se pueden apreciar en la tabla \ref{tab:user_stories_order}.

        \begin{table}[H]

          \begin{center}
            \begin{tabular}{ c  c  c }
              \toprule
                \textbf{Iteración} &
                \textbf{Historia de Usuario} &
                \textbf{Estimación [dias]}\\

              \midrule
                \multirow{2}{*}{Iteración 1}
                & US02 & 6\\
                & US03 & 4\\

              \addlinespace
                Iteración 2 & US04 & 10\\

              % \midrule
              \addlinespace
                \multirow{2}{*}{Iteración 3}
                & US05 & 5\\
                & US06 & 5\\
              %
              % \midrule
              \addlinespace
                \multirow{2}{*}{Iteración 4}
                & US01 & 4\\
                & US07 & 6\\

              \bottomrule
            \end{tabular}
            \caption{Estimación de la implementación de las Historias de Usuario.}
            \label{tab:user_stories_order}
          \end{center}
        \end{table}

  % end implementacion


% end desarrollo
